<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <title>Find The buried treasure!</title>
  <style media="screen">
    p {
      font-family: 'Press Start 2P', cursive;

    }
  </style>
</head>

<body>
  <h1 id="heading">Find the buried treasure!</h1>

  <img id="map" width=400 height="400" src="treasuremap.png">
  <p id="distance"></p>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script type="text/javascript">
    var getRandomNumber = function(size) {
      return Math.floor(Math.random() * size);
    };
    var getDistance = function(event, target) {
      var diffX = event.offsetX - target.x;
      var diffY = event.offsetY - target.y;
      return Math.sqrt((diffX * diffY) + (diffX * diffY));
    };
    var getDistanceHint = function(distance) {
      switch (true) {
        case distance < 15:
          return "Boiling hot!";
          break;
        case distance < 20:
          return "Really hot";
          break;
        case distance < 40:
          return "Hot";
          break;
        case distance < 80:
          return "Warm!";
          break;
        case distance < 160:
          return "Cold";
          break;
        case distance < 320:
          return "Really cold";
          break;
        default:
          return "Freezing";
          break;
      }
    };

    var width = 400;
    var height = 400;


    var target = {
      x: getRandomNumber(width),
      y: getRandomNumber(height)
    };
  //Захватчик кликов
  let clicks = 0;
    $("#map").on("click",(event)=> {

      clicks++;
      var distance = getDistance(event, target);
      var distanceHit = getDistanceHint(distance);
      $("#distance").text(distanceHit);
      if (distance < 10) {
        alert(`Found the treasure in ${clicks} cliks!`);
      }
    });
  </script>
</body>

</html>
